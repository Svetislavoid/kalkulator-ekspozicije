<!DOCTYPE html>

<html>
    
  <head>
    <meta charset="UTF-8" />
      <title>Exposure time calculator</title>
      <link rel="stylesheet" type="text/css" href="build/main.css">
      <script type="text/javascript" src="build/main.js"></script>
  </head>
    
  <body>

    <div class="wrapper">
            
      <form>
        <fieldset>
          <legend>Exposure time calculator</legend>

          <div class="form">
            <div class="parameters">
              <label for="teleskop">Telescope:</label>
              <select class="teleskop" name="teleskop">
                <option value="cassegrain">60cm Cassegrain</option>
                <option value="nasmyth">1.4m Nasmyth</option>
                <option value="custom" class="customTelescope">Custom telescope</option>
              </select>
            </div>

            <div class="parameters">
              <label for="reducer">Reducer:</label>
              <select class="reducer" name="reducer">
                <option value="1">none</option>
                <option value="0.5">0.5x</option>
              </select>
            </div>

            <div class="parameters">
              <label for="ccd">CCD:</label>
              <select class="ccd" name="ccd">
                <option value="iKonL" disabled="disabled">ANDOR iKonL</option>
                <option value="iXon897" disabled="disabled">ANDOR iXon 897</option>
                <option value="apogeeU42">Apogee U42</option>
                <option value="apogeeE47">Apogee E47</option>
                <option value="sbigst10xme">SBIG ST10XME</option>
                <option value="custom" class="customCCD">Custom CCD</option>
              </select>
            </div>

            <div class="parameters">
              <label for="binning">CCD binning:</label>
              <select class="binning" name="binning">
                <option value="1">1x1</option>
                <option value="2">2x2</option>
                <option value="3">3x3</option>
                <option value="4">4x4</option>
                <option value="5">5x5</option>
              </select>
            </div>

            <div class="parameters">
              <label for="filter">Band:</label>
              <select class="filter" name="filter">
                <option value="B">B (4450 &#8491;)</option>
                <option value="V">V (5510 &#8491;)</option>
                <option value="R">R (6580 &#8491;)</option>
                <option value="I">I (8060 &#8491;)</option>
                <option value="L">L (35000 &#8491;)</option>
                <option value="Ha" disabled="disabled">Ha (6563 &#8491;)</option>
                <option value="Ha-kontinuum" disabled="disabled">Ha-kontinuum (6452 &#8491;)</option>
                <option value="[SII]" disabled="disabled">[SII] (6826 &#8491;)</option>
              </select>
            </div>

<!--             <div class="parameters">
              <label for="opseg">Bandwidth (&#8491;):</label>
              <input class="opseg" type="text" list="opseg">
              <datalist id="opseg">
                <option value="400">400</option>
                <option value="600">600</option>
              </datalist>
            </div> -->

            <div class="parameters">
              <label for="transparentnost">Total transparency on all optical elements:</label>
              <input class="transparentnost" type="text">
            </div>

            <div class="parameters">
              <label for="transparentnost-neba">Sky transparency:</label>
              <input class="transparentnost-neba" type="text">
            </div>

            <div class="parameters">
              <label for="sjaj-neba">Sky brightness (mag/arcsec<sup>2</sup>):</label>
              <input class="sjaj-neba" type="text" value="19">
            </div>

            <div class="parameters">
              <label for="seeing">Seeing (FWHM in arcsec):</label>
              <input class="seeing" type="text">
            </div>

            <div class="parameters">
              <label for="magnituda">Magnitude:</label>
              <input class="magnituda" type="text">
            </div>

            <div class="parameters">
              <label for="signal-to-noise">S/N:</label>
              <input class="signal-to-noise" type="text">
            </div>
          
            <input type="button" class="submit" value="Calculate">
          </div>

          <div class="result collapsed">

            <section>
              <p>Telescope: <span class="r-teleskop bold"></span></p>
              <p>Reducer: <span class="r-reducer bold"></span></p>
              <p>CCD: <span class="r-ccd bold"></span></p>
              <p>CCD binning: <span class="r-binning bold"></span></p>
              <p>Band: <span class="r-filter bold"></span></p>
              <!-- <p>Bandwidth (&#8491;): <span class="r-opseg bold"></span></p> -->
              <p>Total transparency on all optical elements: <span class="r-transparentnost bold"></span></p>
              <p>Sky transparency: <span class="r-transparentnost-neba bold"></span></p>
              <p>Sky brightness (mag/arcsec<sup>2</sup>): <span class="r-sjaj-neba bold"></span></p>
              <p>Seeing (FWHM in arcsec): <span class="r-seeing bold"></span></p>
              <p>Magnitude: <span class="r-magnituda bold"></span></p>
              <p>S/N: <span class="r-signal-to-noise bold"></span></p>
            </section>

            <p class="ekspozicija bold">Exposure time: t = <span>0</span>s</p>

            <canvas id="canvas" width="550" height="400"></canvas>

          </div>
        </fieldset>

      </form>

      <div class="report">
        <div class="calculatedValues">
          Vrednosti članova formule za SNR za odabrane parametre:
          <ul>
            <li>S<sub>sig</sub> = <span class="s_sig bold">0</span> e<sup>-</sup>/s</li>
            <li>S<sub>sky</sub> = <span class="s_sky bold">0</span> e<sup>-</sup>/s/pix</li>
            <li>S<sub>dc</sub> = <span class="s_dc bold">0</span> e<sup>-</sup>/s/pix</li>
            <li>S<sub>ro</sub><sup>2</sup> = <span class="s_ro bold">0</span> e<sup>-</sup>/pix</li>
            <li>n = <span class="n_pix bold">0</span> pix</li>
          </ul>
        </div>
        <p>Iz izraza za SNR:</p>
        <img src="img/snr.png">
        <p>dobijamo izraz za vreme ekspozicije:</p>
        <img src="img/exposure.png">
        <p>Broj piksela dobijamo kao:</p>
        <img src="img/pixelNo.png">
        <p>gde je:</p>
        <img src="img/scale.png">
        <p>Signal sa neba dobijamo iz:</p>
        <img src="img/skySignal.png">
        <p>Signal sa objekta dobijamo iz:</p>
        <img src="img/objectSignal.png">
        <p>Ovde su:</p>
        <ul>
          <li>mag<sub>s</sub> - sjaj neba (Sky brightness (mag/arcsec<sup>2</sup>))</li>
          <li>mag - magnituda posmatranog objekta (Magnitude)</li>
          <li>zeroMagnitudeFlux - fluks nulte magnitude za izabrani filter u e<sup>-</sup>/s/m<sup>2</sup>/&#8491;</li>
          <li>skyTransparency - Sky transparency</li>
          <li>totalTransparency - Total transparency on all optical elements</li>
          <li>telescopeArea - površina primarnog ogledala u m<sup>2</sup></li>
          <li>QE - kvantna efikasnost izabranog ccd detektora (peak QE)</li>
          <li>bandwidth - širina izabranog filtera u &#8491;</li>
        </ul>
      </div>

    </div>
    
  </body>

</html>
